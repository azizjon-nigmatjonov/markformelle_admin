import{a,q as j,x as N,j as C,av as W,aJ as $,aK as z,y as U,aL as B,au as G,_ as L,aM as q}from"./index-CTFI2LGG.js";function _(e){const n=e.documentElement.clientWidth;return Math.abs(window.innerWidth-n)}const J=["input","select","textarea","a[href]","button","[tabindex]","audio[controls]","video[controls]",'[contenteditable]:not([contenteditable="false"])'].join(",");function X(e){const n=parseInt(e.getAttribute("tabindex")||"",10);return Number.isNaN(n)?e.contentEditable==="true"||(e.nodeName==="AUDIO"||e.nodeName==="VIDEO"||e.nodeName==="DETAILS")&&e.getAttribute("tabindex")===null?0:e.tabIndex:n}function Q(e){if(e.tagName!=="INPUT"||e.type!=="radio"||!e.name)return!1;const n=t=>e.ownerDocument.querySelector(`input[type="radio"]${t}`);let o=n(`[name="${e.name}"]:checked`);return o||(o=n(`[name="${e.name}"]`)),o!==e}function Z(e){return!(e.disabled||e.tagName==="INPUT"&&e.type==="hidden"||Q(e))}function ee(e){const n=[],o=[];return Array.from(e.querySelectorAll(J)).forEach((t,i)=>{const r=X(t);r===-1||!Z(t)||(r===0?n.push(t):o.push({documentOrder:i,tabIndex:r,node:t}))}),o.sort((t,i)=>t.tabIndex===i.tabIndex?t.documentOrder-i.documentOrder:t.tabIndex-i.tabIndex).map(t=>t.node).concat(n)}function te(){return!0}function pe(e){const{children:n,disableAutoFocus:o=!1,disableEnforceFocus:t=!1,disableRestoreFocus:i=!1,getTabbable:r=ee,isEnabled:s=te,open:l}=e,d=a.useRef(!1),m=a.useRef(null),p=a.useRef(null),g=a.useRef(null),y=a.useRef(null),E=a.useRef(!1),u=a.useRef(null),F=j(n.ref,u),S=a.useRef(null);a.useEffect(()=>{!l||!u.current||(E.current=!o)},[o,l]),a.useEffect(()=>{if(!l||!u.current)return;const c=N(u.current);return u.current.contains(c.activeElement)||(u.current.hasAttribute("tabIndex")||u.current.setAttribute("tabIndex","-1"),E.current&&u.current.focus()),()=>{i||(g.current&&g.current.focus&&(d.current=!0,g.current.focus()),g.current=null)}},[l]),a.useEffect(()=>{if(!l||!u.current)return;const c=N(u.current),I=b=>{S.current=b,!(t||!s()||b.key!=="Tab")&&c.activeElement===u.current&&b.shiftKey&&(d.current=!0,p.current&&p.current.focus())},R=()=>{const b=u.current;if(b===null)return;if(!c.hasFocus()||!s()||d.current){d.current=!1;return}if(b.contains(c.activeElement)||t&&c.activeElement!==m.current&&c.activeElement!==p.current)return;if(c.activeElement!==y.current)y.current=null;else if(y.current!==null)return;if(!E.current)return;let x=[];if((c.activeElement===m.current||c.activeElement===p.current)&&(x=r(u.current)),x.length>0){var k,v;const H=!!((k=S.current)!=null&&k.shiftKey&&((v=S.current)==null?void 0:v.key)==="Tab"),M=x[0],D=x[x.length-1];typeof M!="string"&&typeof D!="string"&&(H?D.focus():M.focus())}else b.focus()};c.addEventListener("focusin",R),c.addEventListener("keydown",I,!0);const A=setInterval(()=>{c.activeElement&&c.activeElement.tagName==="BODY"&&R()},50);return()=>{clearInterval(A),c.removeEventListener("focusin",R),c.removeEventListener("keydown",I,!0)}},[o,t,i,s,l,r]);const O=c=>{g.current===null&&(g.current=c.relatedTarget),E.current=!0,y.current=c.target;const I=n.props.onFocus;I&&I(c)},P=c=>{g.current===null&&(g.current=c.relatedTarget),E.current=!0};return C.jsxs(a.Fragment,{children:[C.jsx("div",{tabIndex:l?0:-1,onFocus:P,ref:m,"data-testid":"sentinelStart"}),a.cloneElement(n,{ref:F,onFocus:O}),C.jsx("div",{tabIndex:l?0:-1,onFocus:P,ref:p,"data-testid":"sentinelEnd"})]})}function ne(e){return typeof e=="function"?e():e}const me=a.forwardRef(function(n,o){const{children:t,container:i,disablePortal:r=!1}=n,[s,l]=a.useState(null),d=j(a.isValidElement(t)?t.ref:null,o);if(W(()=>{r||l(ne(i)||document.body)},[i,r]),W(()=>{if(s&&!r)return $(o,s),()=>{$(o,null)}},[o,s,r]),r){if(a.isValidElement(t)){const m={ref:d};return a.cloneElement(t,m)}return C.jsx(a.Fragment,{children:t})}return C.jsx(a.Fragment,{children:s&&z.createPortal(t,s)})});function re(e){const n=N(e);return n.body===e?U(e).innerWidth>n.documentElement.clientWidth:e.scrollHeight>e.clientHeight}function w(e,n){n?e.setAttribute("aria-hidden","true"):e.removeAttribute("aria-hidden")}function Y(e){return parseInt(U(e).getComputedStyle(e).paddingRight,10)||0}function oe(e){const o=["TEMPLATE","SCRIPT","STYLE","LINK","MAP","META","NOSCRIPT","PICTURE","COL","COLGROUP","PARAM","SLOT","SOURCE","TRACK"].indexOf(e.tagName)!==-1,t=e.tagName==="INPUT"&&e.getAttribute("type")==="hidden";return o||t}function V(e,n,o,t,i){const r=[n,o,...t];[].forEach.call(e.children,s=>{const l=r.indexOf(s)===-1,d=!oe(s);l&&d&&w(s,i)})}function K(e,n){let o=-1;return e.some((t,i)=>n(t)?(o=i,!0):!1),o}function se(e,n){const o=[],t=e.container;if(!n.disableScrollLock){if(re(t)){const s=_(N(t));o.push({value:t.style.paddingRight,property:"padding-right",el:t}),t.style.paddingRight=`${Y(t)+s}px`;const l=N(t).querySelectorAll(".mui-fixed");[].forEach.call(l,d=>{o.push({value:d.style.paddingRight,property:"padding-right",el:d}),d.style.paddingRight=`${Y(d)+s}px`})}let r;if(t.parentNode instanceof DocumentFragment)r=N(t).body;else{const s=t.parentElement,l=U(t);r=(s==null?void 0:s.nodeName)==="HTML"&&l.getComputedStyle(s).overflowY==="scroll"?s:t}o.push({value:r.style.overflow,property:"overflow",el:r},{value:r.style.overflowX,property:"overflow-x",el:r},{value:r.style.overflowY,property:"overflow-y",el:r}),r.style.overflow="hidden"}return()=>{o.forEach(({value:r,el:s,property:l})=>{r?s.style.setProperty(l,r):s.style.removeProperty(l)})}}function ie(e){const n=[];return[].forEach.call(e.children,o=>{o.getAttribute("aria-hidden")==="true"&&n.push(o)}),n}class ae{constructor(){this.containers=void 0,this.modals=void 0,this.modals=[],this.containers=[]}add(n,o){let t=this.modals.indexOf(n);if(t!==-1)return t;t=this.modals.length,this.modals.push(n),n.modalRef&&w(n.modalRef,!1);const i=ie(o);V(o,n.mount,n.modalRef,i,!0);const r=K(this.containers,s=>s.container===o);return r!==-1?(this.containers[r].modals.push(n),t):(this.containers.push({modals:[n],container:o,restore:null,hiddenSiblings:i}),t)}mount(n,o){const t=K(this.containers,r=>r.modals.indexOf(n)!==-1),i=this.containers[t];i.restore||(i.restore=se(i,o))}remove(n,o=!0){const t=this.modals.indexOf(n);if(t===-1)return t;const i=K(this.containers,s=>s.modals.indexOf(n)!==-1),r=this.containers[i];if(r.modals.splice(r.modals.indexOf(n),1),this.modals.splice(t,1),r.modals.length===0)r.restore&&r.restore(),n.modalRef&&w(n.modalRef,o),V(r.container,n.mount,n.modalRef,r.hiddenSiblings,!1),this.containers.splice(i,1);else{const s=r.modals[r.modals.length-1];s.modalRef&&w(s.modalRef,!1)}return t}isTopModal(n){return this.modals.length>0&&this.modals[this.modals.length-1]===n}}function ce(e){return typeof e=="function"?e():e}function le(e){return e?e.props.hasOwnProperty("in"):!1}const ue=new ae;function ge(e){const{container:n,disableEscapeKeyDown:o=!1,disableScrollLock:t=!1,manager:i=ue,closeAfterTransition:r=!1,onTransitionEnter:s,onTransitionExited:l,children:d,onClose:m,open:p,rootRef:g}=e,y=a.useRef({}),E=a.useRef(null),u=a.useRef(null),F=j(u,g),[S,O]=a.useState(!p),P=le(d);let c=!0;(e["aria-hidden"]==="false"||e["aria-hidden"]===!1)&&(c=!1);const I=()=>N(E.current),R=()=>(y.current.modalRef=u.current,y.current.mount=E.current,y.current),A=()=>{i.mount(R(),{disableScrollLock:t}),u.current&&(u.current.scrollTop=0)},b=B(()=>{const h=ce(n)||I().body;i.add(R(),h),u.current&&A()}),x=a.useCallback(()=>i.isTopModal(R()),[i]),k=B(h=>{E.current=h,h&&(p&&x()?A():u.current&&w(u.current,c))}),v=a.useCallback(()=>{i.remove(R(),c)},[c,i]);a.useEffect(()=>()=>{v()},[v]),a.useEffect(()=>{p?b():(!P||!r)&&v()},[p,v,P,r,b]);const H=h=>f=>{var T;(T=h.onKeyDown)==null||T.call(h,f),!(f.key!=="Escape"||f.which===229||!x())&&(o||(f.stopPropagation(),m&&m(f,"escapeKeyDown")))},M=h=>f=>{var T;(T=h.onClick)==null||T.call(h,f),f.target===f.currentTarget&&m&&m(f,"backdropClick")};return{getRootProps:(h={})=>{const f=G(e);delete f.onTransitionEnter,delete f.onTransitionExited;const T=L({},f,h);return L({role:"presentation"},T,{onKeyDown:H(T),ref:F})},getBackdropProps:(h={})=>{const f=h;return L({"aria-hidden":!0},f,{onClick:M(f),open:p})},getTransitionProps:()=>{const h=()=>{O(!1),s&&s()},f=()=>{O(!0),l&&l(),r&&v()};return{onEnter:q(h,d==null?void 0:d.props.onEnter),onExited:q(f,d==null?void 0:d.props.onExited)}},rootRef:F,portalRef:k,isTopModal:x,exited:S,hasTransition:P}}export{pe as F,me as P,ge as u};
